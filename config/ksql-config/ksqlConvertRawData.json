{
    "ksql": "CREATE STREAM \"wallbox_source_stream\" (MQTT_TOPIC VARCHAR KEY, charge VARCHAR) WITH (KAFKA_TOPIC='wallbox_source', VALUE_FORMAT='DELIMITED'); CREATE STREAM \"wallbox_charge\" WITH (VALUE_FORMAT='AVRO') AS SELECT CHARGE AS CHARGE, SUBSTRING(MQTT_TOPIC,1,LEN(MQTT_TOPIC)-11) AS ID, AS_VALUE(SUBSTRING(MQTT_TOPIC,1,LEN(MQTT_TOPIC)-11)) AS CLIENT_ID, ROWTIME AS TIMESTAMP FROM \"wallbox_source_stream\" PARTITION BY SUBSTRING(MQTT_TOPIC,1,LEN(MQTT_TOPIC)-11);",
    "streamsProperties": {
          "ksql.streams.auto.offset.reset": "earliest"
    }
}
  